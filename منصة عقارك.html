<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>منصة عقارك - الموقع الأول للعقارات</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #3b82f6;
      --primary-hover: #2563eb;
      --secondary-color: #10b981;
      --dark-color: #1f2937;
      --light-color: #f9fafb;
      --danger-color: #ef4444;
      --warning-color: #f59e0b;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Tajawal', sans-serif;
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }
    
    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }
    
    /* Header */
    header {
      background-color: white;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
    }
    
    .logo {
      display: flex;
      align-items: center;
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--primary-color);
    }
    
    .logo img {
      height: 40px;
      margin-left: 10px;
    }
    
    nav ul {
      display: flex;
      list-style: none;
    }
    
    nav ul li {
      margin-right: 20px;
    }
    
    nav ul li a {
      text-decoration: none;
      color: var(--dark-color);
      font-weight: 500;
      transition: color 0.3s;
    }
    
    nav ul li a:hover {
      color: var(--primary-color);
    }
    
    .auth-buttons {
      display: flex;
      gap: 10px;
    }
    
    .btn {
      padding: 8px 16px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .btn-primary {
      background-color: var(--primary-color);
      color: white;
    }
    
    .btn-primary:hover {
      background-color: var(--primary-hover);
    }
    
    .btn-outline {
      background-color: transparent;
      border: 1px solid var(--primary-color);
      color: var(--primary-color);
    }
    
    .btn-outline:hover {
      background-color: var(--primary-color);
      color: white;
    }
    
    .btn-danger {
      background-color: var(--danger-color);
      color: white;
    }
    
    /* Hero Section */
    .hero {
      background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1073&q=80');
      background-size: cover;
      background-position: center;
      height: 500px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      text-align: center;
      padding: 0 20px;
    }
    
    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    
    .hero p {
      font-size: 1.2rem;
      margin-bottom: 30px;
      max-width: 700px;
    }
    
    .search-container {
      background-color: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 10px;
      width: 100%;
      max-width: 800px;
    }
    
    .search-form {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .form-group {
      flex: 1;
      min-width: 150px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: var(--dark-color);
      font-weight: 500;
    }
    
    .form-group select,
    .form-group input {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
      font-family: 'Tajawal', sans-serif;
    }
    
    .search-btn {
      background-color: var(--primary-color);
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      font-weight: 500;
      transition: background-color 0.3s;
      margin-top: 20px;
      width: 100%;
    }
    
    .search-btn:hover {
      background-color: var(--primary-hover);
    }
    
    /* Categories Section */
    .section {
      padding: 60px 0;
    }
    
    .section-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .section-header h2 {
      font-size: 2rem;
      color: var(--dark-color);
      position: relative;
      display: inline-block;
      padding-bottom: 10px;
    }
    
    .section-header h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background-color: var(--primary-color);
    }
    
    .categories {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .category {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background-color: white;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
      color: var(--dark-color);
      text-decoration: none;
    }
    
    .category:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .category i {
      font-size: 2rem;
      margin-bottom: 10px;
    }
    
    .category:nth-child(1) { background-color: #e0f2fe; }
    .category:nth-child(2) { background-color: #dcfce7; }
    .category:nth-child(3) { background-color: #fef3c7; }
    .category:nth-child(4) { background-color: #fce7f3; }
    .category:nth-child(5) { background-color: #dbeafe; }
    .category:nth-child(6) { background-color: #f3e8ff; }
    
    /* Properties Section */
    .properties {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .property-card {
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .property-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .property-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    
    .property-info {
      padding: 15px;
    }
    
    .property-title {
      font-size: 1.2rem;
      margin-bottom: 5px;
      color: var(--dark-color);
    }
    
    .property-location {
      color: #666;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }
    
    .property-location i {
      margin-left: 5px;
      color: var(--primary-color);
    }
    
    .property-price {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 10px;
    }
    
    .property-features {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      border-top: 1px solid #eee;
      padding-top: 10px;
    }
    
    .feature {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .feature i {
      color: var(--primary-color);
      margin-bottom: 5px;
    }
    
    .property-buttons {
      display: flex;
      gap: 10px;
    }
    
    .whatsapp-btn {
      background-color: #25d366;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      flex: 0;
    }
    
    .details-btn {
      flex: 1;
    }
    
    /* Stats Section */
    .stats {
      background-color: var(--primary-color);
      color: white;
      padding: 60px 0;
    }
    
    .stats-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
      text-align: center;
    }
    
    .stat {
      padding: 20px;
    }
    
    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
    }
    
    .stat-title {
      font-size: 1.2rem;
    }
    
    /* About Section */
    .about-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: center;
    }
    
    .about-image {
      border-radius: 10px;
      overflow: hidden;
    }
    
    .about-image img {
      width: 100%;
      height: auto;
    }
    
    .about-content h2 {
      margin-bottom: 20px;
      font-size: 2rem;
      color: var(--dark-color);
    }
    
    .feature-list {
      list-style: none;
      margin-top: 20px;
    }
    
    .feature-list li {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }
    
    .feature-list li i {
      color: var(--secondary-color);
      margin-left: 10px;
    }
    
    /* Footer */
    footer {
      background-color: var(--dark-color);
      color: white;
      padding: 60px 0 20px;
    }
    
    .footer-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }
    
    .footer-section h3 {
      margin-bottom: 20px;
      font-size: 1.2rem;
      position: relative;
      padding-bottom: 10px;
    }
    
    .footer-section h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 50px;
      height: 2px;
      background-color: var(--primary-color);
    }
    
    .footer-links {
      list-style: none;
    }
    
    .footer-links li {
      margin-bottom: 10px;
    }
    
    .footer-links a {
      color: #ddd;
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .footer-links a:hover {
      color: var(--primary-color);
    }
    
    .contact-info {
      list-style: none;
    }
    
    .contact-info li {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }
    
    .contact-info i {
      margin-left: 10px;
      color: var(--primary-color);
    }
    
    .social-links {
      display: flex;
      gap: 10px;
    }
    
    .social-links a {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgba(255,255,255,0.1);
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      transition: background-color 0.3s;
    }
    
    .social-links a:hover {
      background-color: var(--primary-color);
    }
    
    .copyright {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid rgba(255,255,255,0.1);
    }
    
    /* Login Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }
    
    .modal.active {
      opacity: 1;
      visibility: visible;
    }
    
    .modal-content {
      background-color: white;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      padding: 30px;
      position: relative;
      transform: translateY(-20px);
      transition: transform 0.3s;
    }
    
    .modal.active .modal-content {
      transform: translateY(0);
    }
    
    .modal-close {
      position: absolute;
      top: 10px;
      left: 10px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
    }
    
    .modal-title {
      text-align: center;
      margin-bottom: 20px;
      font-size: 1.5rem;
      color: var(--dark-color);
    }
    
    .form-control {
      margin-bottom: 15px;
    }
    
    .form-control label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    .form-control input {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
      font-family: 'Tajawal', sans-serif;
    }
    
    .login-btn {
      width: 100%;
      padding: 10px;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 5px;
      font-family: 'Tajawal', sans-serif;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .login-btn:hover {
      background-color: var(--primary-hover);
    }
    
    .switch-form {
      text-align: center;
      margin-top: 15px;
    }
    
    .switch-form a {
      color: var(--primary-color);
      cursor: pointer;
    }
    
    /* Register Form */
    .register-fields {
      display: none;
    }
    
    .register-active .register-fields {
      display: block;
    }
    
    .register-active .login-fields {
      display: none;
    }
    
    /* Property Details Modal */
    .property-details {
      background-color: white;
      border-radius: 10px;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      padding: 0;
    }
    
    .property-details-image {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }
    
    .property-details-content {
      padding: 20px;
    }
    
    .property-details-header {
      margin-bottom: 20px;
    }
    
    .property-details-title {
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: var(--dark-color);
    }
    
    .property-details-location {
      color: #666;
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .property-details-location i {
      margin-left: 5px;
      color: var(--primary-color);
    }
    
    .property-details-price {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 20px;
    }
    
    .property-details-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
    }
    
    .detail-item {
      display: flex;
      align-items: center;
    }
    
    .detail-item i {
      margin-left: 10px;
      color: var(--primary-color);
      font-size: 1.2rem;
    }
    
    .property-description {
      margin-bottom: 20px;
      line-height: 1.8;
    }
    
    .property-features-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .feature-item {
      display: flex;
      align-items: center;
    }
    
    .feature-item i {
      margin-left: 10px;
      color: var(--secondary-color);
    }
    
    .property-contact {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    
    .property-contact .btn {
      flex: 1;
    }
    
    /* Admin Panel */
    .admin-container {
      display: flex;
      min-height: 100vh;
    }
    
    .sidebar {
      width: 250px;
      background-color: var(--dark-color);
      color: white;
      padding: 20px 0;
    }
    
    .sidebar-header {
      padding: 0 20px 20px;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      text-align: center;
    }
    
    .sidebar-menu {
      list-style: none;
    }
    
    .sidebar-menu li {
      margin-bottom: 5px;
    }
    
    .sidebar-menu a,
    .sidebar-menu button {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: #ddd;
      text-decoration: none;
      transition: all 0.3s;
      width: 100%;
      text-align: right;
      background: none;
      border: none;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      font-size: 1rem;
    }
    
    .sidebar-menu a:hover,
    .sidebar-menu button:hover,
    .sidebar-menu a.active,
    .sidebar-menu button.active {
      background-color: rgba(255,255,255,0.1);
      color: white;
    }
    
    .sidebar-menu i {
      margin-left: 10px;
      font-size: 1.2rem;
    }
    
    .admin-content {
      flex: 1;
      padding: 20px;
      background-color: #f5f5f5;
    }
    
    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      background-color: white;
      padding: 15px 20px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .admin-title {
      font-size: 1.5rem;
      color: var(--dark-color);
    }
    
    .admin-actions {
      display: flex;
      gap: 10px;
    }
    
    .dashboard-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .dashboard-card {
      background-color: white;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .card-content h3 {
      font-size: 2rem;
      margin-bottom: 5px;
    }
    
    .card-content p {
      color: #666;
    }
    
    .card-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.5rem;
    }
    
    .card-icon.blue {
      background-color: #e0f2fe;
      color: var(--primary-color);
    }
    
    .card-icon.green {
      background-color: #dcfce7;
      color: var(--secondary-color);
    }
    
    .card-icon.orange {
      background-color: #fef3c7;
      color: var(--warning-color);
    }
    
    .card-icon.red {
      background-color: #fee2e2;
      color: var(--danger-color);
    }
    
    .admin-table {
      width: 100%;
      background-color: white;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    .admin-table-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      border-bottom: 1px solid #eee;
    }
    
    .admin-table-title {
      font-size: 1.2rem;
      color: var(--dark-color);
    }
    
    .admin-table-actions {
      display: flex;
      gap: 10px;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    th, td {
      padding: 12px 15px;
      text-align: right;
      border-bottom: 1px solid #eee;
    }
    
    th {
      font-weight: 600;
      color: var(--dark-color);
      background-color: #f9f9f9;
    }
    
    td {
      color: #666;
    }
    
    .status {
      padding: 5px 10px;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 500;
      display: inline-block;
    }
    
    .status-approved {
      background-color: #dcfce7;
      color: #166534;
    }
    
    .status-pending {
      background-color: #fef3c7;
      color: #854d0e;
    }
    
    .status-rejected {
      background-color: #fee2e2;
      color: #991b1b;
    }
    
    .table-actions {
      display: flex;
      gap: 5px;
    }
    
    .action-btn {
      width: 30px;
      height: 30px;
      border-radius: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      cursor: pointer;
      border: none;
    }
    
    .edit-btn {
      background-color: var(--primary-color);
    }
    
    .delete-btn {
      background-color: var(--danger-color);
    }
    
    .approve-btn {
      background-color: var(--secondary-color);
    }
    
    /* Form */
    .form-section {
      background-color: white;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 20px;
      margin-bottom: 30px;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .submit-btn {
      padding: 10px 20px;
      margin-top: 20px;
    }
    
    /* Media Queries */
    @media (max-width: 768px) {
      .header-container {
        flex-direction: column;
        text-align: center;
      }
      
      nav ul {
        margin: 15px 0;
      }
      
      .about-container {
        grid-template-columns: 1fr;
      }
      
      .admin-container {
        flex-direction: column;
      }
      
      .sidebar {
        width: 100%;
        padding: 10px 0;
      }
      
      .property-details-info {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    @media (max-width: 576px) {
      .form-group {
        min-width: 100%;
      }
      
      .dashboard-cards {
        grid-template-columns: 1fr;
      }
      
      .property-contact {
        flex-direction: column;
      }
      
      .admin-header {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container header-container">
      <div class="logo">
        <img src="https://e7.pngegg.com/pngimages/266/914/png-clipart-real-estate-background-building-logo.png" alt="منصة عقارك">
        منصة عقارك
      </div>
      <nav>
        <ul>
          <li><a href="#" class="active">الرئيسية</a></li>
          <li><a href="#properties">العقارات</a></li>
          <li><a href="#categories">الأقسام</a></li>
          <li><a href="#features">مميزاتنا</a></li>
          <li><a href="#contact">تواصل معنا</a></li>
        </ul>
      </nav>
      <div class="auth-buttons">
        <button class="btn btn-outline" id="loginBtn">تسجيل الدخول</button>
        <button class="btn btn-primary" id="registerBtn">تسجيل جديد</button>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <h1>ابحث عن عقارك المثالي</h1>
    <p>المنصة الرائدة في المملكة العربية السعودية للعقارات، نقدم لك أفضل الخيارات في أرقى المناطق</p>
    <div class="search-container">
      <form class="search-form">
        <div class="form-group">
          <label for="propertyType">نوع العقار</label>
          <select id="propertyType">
            <option value="">الكل</option>
            <option value="villa">فيلا</option>
            <option value="apartment">شقة</option>
            <option value="land">أرض</option>
            <option value="rest">استراحة</option>
            <option value="building">عمارة</option>
            <option value="floor">دور</option>
          </select>
        </div>
        <div class="form-group">
          <label for="purpose">الغرض</label>
          <select id="purpose">
            <option value="">الكل</option>
            <option value="sale">بيع</option>
            <option value="rent">إيجار</option>
          </select>
        </div>
        <div class="form-group">
          <label for="location">الموقع</label>
          <select id="location">
            <option value="">الكل</option>
            <option value="riyadh">الرياض</option>
            <option value="jeddah">جدة</option>
            <option value="dammam">الدمام</option>
            <option value="makkah">مكة المكرمة</option>
            <option value="madinah">المدينة المنورة</option>
          </select>
        </div>
        <button type="button" class="search-btn">
          <i class="fas fa-search ml-2"></i>
          بحث
        </button>
      </form>
    </div>
  </section>

  <!-- Categories Section -->
  <section class="section" id="categories">
    <div class="container">
      <div class="section-header">
        <h2>أقسام العقارات</h2>
      </div>
      <div class="categories">
        <a href="#" class="category">
          <i class="fas fa-building"></i>
          <span>عمائر</span>
        </a>
        <a href="#" class="category">
          <i class="fas fa-home"></i>
          <span>فلل</span>
        </a>
        <a href="#" class="category">
          <i class="fas fa-city"></i>
          <span>شقق</span>
        </a>
        <a href="#" class="category">
          <i class="fas fa-map-marked-alt"></i>
          <span>أراضي</span>
        </a>
        <a href="#" class="category">
          <i class="fas fa-umbrella-beach"></i>
          <span>استراحات</span>
        </a>
        <a href="#" class="category">
          <i class="fas fa-layer-group"></i>
          <span>أدوار</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Properties Section -->
  <section class="section" id="properties">
    <div class="container">
      <div class="section-header">
        <h2>أحدث العقارات</h2>
      </div>
      <div class="properties" id="propertiesContainer">
        <!-- Property cards will be added here dynamically -->
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats">
    <div class="container stats-container">
      <div class="stat">
        <div class="stat-number" id="propertiesCount">50+</div>
        <div class="stat-title">عقار متاح</div>
      </div>
      <div class="stat">
        <div class="stat-number" id="brokersCount">10+</div>
        <div class="stat-title">وسيط عقاري معتمد</div>
      </div>
      <div class="stat">
        <div class="stat-number" id="salesCount">25+</div>
        <div class="stat-title">صفقة بيع منجزة</div>
      </div>
      <div class="stat">
        <div class="stat-number">100%</div>
        <div class="stat-title">رضا العملاء</div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="section" id="features">
    <div class="container about-container">
      <div class="about-image">
        <img src="https://images.unsplash.com/photo-1556740758-90de374c12ad?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&h=500&q=80" alt="About Us">
      </div>
      <div class="about-content">
        <h2>منصة عقارك - الأولى في مجال العقارات</h2>
        <p>نحن منصة إلكترونية متخصصة في مجال العقارات، نسعى لتقديم خدمات عقارية متميزة لعملائنا من خلال فريق من الوسطاء العقاريين المعتمدين من الهيئة العامة للعقار.</p>
        <ul class="feature-list">
          <li><i class="fas fa-check-circle"></i> تسهيل بيع وشراء العقارات في وقت قصير</li>
          <li><i class="fas fa-check-circle"></i> توفير خدمات تمويل لشراء العقارات</li>
          <li><i class="fas fa-check-circle"></i> تقديم استشارات عقارية احترافية</li>
          <li><i class="fas fa-check-circle"></i> التحقق من وثائق العقارات بشكل دقيق</li>
          <li><i class="fas fa-check-circle"></i> معتمدون من الهيئة العامة للعقار</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="contact">
    <div class="container">
      <div class="footer-container">
        <div class="footer-section">
          <h3>منصة عقارك</h3>
          <p>المنصة الرائدة في مجال العقارات بالمملكة العربية السعودية، نقدم أفضل الخدمات العقارية بأعلى معايير الجودة.</p>
        </div>
        <div class="footer-section">
          <h3>روابط سريعة</h3>
          <ul class="footer-links">
            <li><a href="#">الرئيسية</a></li>
            <li><a href="#properties">العقارات</a></li>
            <li><a href="#categories">الأقسام</a></li>
            <li><a href="#features">مميزاتنا</a></li>
            <li><a href="#contact">تواصل معنا</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>تواصل معنا</h3>
          <ul class="contact-info">
            <li><i class="fas fa-map-marker-alt"></i> الرياض، المملكة العربية السعودية</li>
            <li><i class="fas fa-phone"></i> +966 535342404</li>
            <li><i class="fas fa-envelope"></i> info@aqaruk.com</li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>تابعنا</h3>
          <div class="social-links">
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>&copy; 2023 منصة عقارك. جميع الحقوق محفوظة.</p>
      </div>
    </div>
  </footer>

  <!-- Login Modal -->
  <div class="modal" id="authModal">
    <div class="modal-content">
      <button class="modal-close" id="closeModal">&times;</button>
      <h2 class="modal-title" id="authTitle">تسجيل الدخول</h2>
      <form id="authForm">
        <div class="login-fields">
          <div class="form-control">
            <label for="username">اسم المستخدم</label>
            <input type="text" id="username" required>
          </div>
          <div class="form-control">
            <label for="password">كلمة المرور</label>
            <input type="password" id="password" required>
          </div>
          <button type="submit" class="login-btn">دخول</button>
        </div>
        <div class="register-fields">
          <div class="form-control">
            <label for="fullName">الاسم الكامل</label>
            <input type="text" id="fullName" required>
          </div>
          <div class="form-control">
            <label for="regUsername">اسم المستخدم</label>
            <input type="text" id="regUsername" required>
          </div>
          <div class="form-control">
            <label for="phoneNumber">رقم الواتساب</label>
            <input type="tel" id="phoneNumber" placeholder="966xxxxxxxxx" required>
          </div>
          <div class="form-control">
            <label for="licenseNumber">رقم رخصة الوساطة العقارية</label>
            <input type="text" id="licenseNumber">
          </div>
          <div class="form-control">
            <label for="regPassword">كلمة المرور</label>
            <input type="password" id="regPassword" required>
          </div>
          <button type="submit" class="login-btn">تسجيل</button>
        </div>
        <div class="switch-form">
          <span id="switchText">ليس لديك حساب؟</span>
          <a id="switchFormBtn">تسجيل جديد</a>
        </div>
      </form>
    </div>
  </div>

  <!-- Property Details Modal -->
  <div class="modal" id="propertyDetailsModal">
    <div class="modal-content property-details">
      <button class="modal-close" id="closePropertyModal">&times;</button>
      <img src="" id="propertyDetailsImage" class="property-details-image">
      <div class="property-details-content">
        <div class="property-details-header">
          <h2 class="property-details-title" id="propertyDetailsTitle"></h2>
          <div class="property-details-location" id="propertyDetailsLocation"></div>
          <div class="property-details-price" id="propertyDetailsPrice"></div>
        </div>
        
        <div class="property-details-info" id="propertyDetailsInfo">
          <!-- Property info will be added here -->
        </div>
        
        <h3>الوصف</h3>
        <div class="property-description" id="propertyDescription"></div>
        
        <h3>المميزات</h3>
        <div class="property-features-list" id="propertyFeaturesList">
          <!-- Features will be added here -->
        </div>
        
        <div class="property-contact">
          <a id="propertyWhatsapp" class="btn whatsapp-btn" href="#" target="_blank">
            <i class="fab fa-whatsapp"></i>
            تواصل واتساب
          </a>
          <button class="btn btn-primary" id="backToProperties">
            <i class="fas fa-arrow-right ml-2"></i>
            العودة للعقارات
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin Panel (Hidden by default) -->
  <div class="admin-container" id="adminPanel" style="display: none;">
    <div class="sidebar">
      <div class="sidebar-header">
        <h3>لوحة التحكم</h3>
      </div>
      <ul class="sidebar-menu">
        <li>
          <button class="active" id="dashboardTabBtn">
            <i class="fas fa-tachometer-alt"></i>
            الرئيسية
          </button>
        </li>
        <li>
          <button id="propertiesTabBtn">
            <i class="fas fa-home"></i>
            العقارات
          </button>
        </li>
        <li>
          <button id="brokersTabBtn">
            <i class="fas fa-user-tie"></i>
            الوسطاء
          </button>
        </li>
        <li>
          <button id="addPropertyTabBtn">
            <i class="fas fa-plus"></i>
            إضافة عقار
          </button>
        </li>
        <li>
          <button id="viewWebsiteBtn">
            <i class="fas fa-globe"></i>
            عرض الموقع
          </button>
        </li>
        <li>
          <button id="logoutBtn">
            <i class="fas fa-sign-out-alt"></i>
            تسجيل الخروج
          </button>
        </li>
      </ul>
    </div>
    <div class="admin-content">
      <!-- Dashboard Tab -->
      <div id="dashboardTab" class="admin-tab">
        <div class="admin-header">
          <h2 class="admin-title">لوحة القيادة</h2>
        </div>
        <div class="dashboard-cards">
          <div class="dashboard-card">
            <div class="card-content">
              <h3 id="adminPropertiesCount">0</h3>
              <p>إجمالي العقارات</p>
            </div>
            <div class="card-icon blue">
              <i class="fas fa-home"></i>
            </div>
          </div>
          <div class="dashboard-card">
            <div class="card-content">
              <h3 id="adminBrokersCount">0</h3>
              <p>الوسطاء المعتمدين</p>
            </div>
            <div class="card-icon green">
              <i class="fas fa-user-tie"></i>
            </div>
          </div>
          <div class="dashboard-card">
            <div class="card-content">
              <h3 id="adminSalesCount">0</h3>
              <p>عقارات البيع</p>
            </div>
            <div class="card-icon orange">
              <i class="fas fa-handshake"></i>
            </div>
          </div>
          <div class="dashboard-card">
            <div class="card-content">
              <h3 id="adminRentCount">0</h3>
              <p>عقارات الإيجار</p>
            </div>
            <div class="card-icon red">
              <i class="fas fa-key"></i>
            </div>
          </div>
        </div>
        <div class="admin-table">
          <div class="admin-table-header">
            <h3 class="admin-table-title">أحدث العقارات</h3>
          </div>
          <table>
            <thead>
              <tr>
                <th>العنوان</th>
                <th>النوع</th>
                <th>الغرض</th>
                <th>السعر</th>
                <th>الموقع</th>
                <th>الإجراءات</th>
              </tr>
            </thead>
            <tbody id="latestPropertiesTable">
              <!-- Properties will be added here -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Properties Tab -->
      <div id="propertiesTab" class="admin-tab" style="display: none;">
        <div class="admin-header">
          <h2 class="admin-title">إدارة العقارات</h2>
          <div class="admin-actions">
            <button class="btn btn-primary" id="addNewPropertyBtn">
              <i class="fas fa-plus ml-2"></i>
              إضافة عقار جديد
            </button>
          </div>
        </div>
        <div class="admin-table">
          <div class="admin-table-header">
            <h3 class="admin-table-title">جميع العقارات</h3>
          </div>
          <table>
            <thead>
              <tr>
                <th>العنوان</th>
                <th>النوع</th>
                <th>الغرض</th>
                <th>السعر</th>
                <th>الموقع</th>
                <th>الإجراءات</th>
              </tr>
            </thead>
            <tbody id="allPropertiesTable">
              <!-- Properties will be added here -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Brokers Tab -->
      <div id="brokersTab" class="admin-tab" style="display: none;">
        <div class="admin-header">
          <h2 class="admin-title">إدارة الوسطاء</h2>
        </div>
        <div class="admin-table">
          <div class="admin-table-header">
            <h3 class="admin-table-title">طلبات الانضمام</h3>
          </div>
          <table>
            <thead>
              <tr>
                <th>الاسم</th>
                <th>رقم الجوال</th>
                <th>رقم الرخصة</th>
                <th>الحالة</th>
                <th>الإجراءات</th>
              </tr>
            </thead>
            <tbody id="pendingBrokersTable">
              <!-- Pending brokers will be added here -->
            </tbody>
          </table>
        </div>
        <div class="admin-table" style="margin-top: 30px;">
          <div class="admin-table-header">
            <h3 class="admin-table-title">الوسطاء المعتمدين</h3>
          </div>
          <table>
            <thead>
              <tr>
                <th>الاسم</th>
                <th>رقم الجوال</th>
                <th>رقم الرخصة</th>
                <th>تاريخ الانضمام</th>
                <th>عدد العقارات</th>
                <th>الإجراءات</th>
              </tr>
            </thead>
            <tbody id="approvedBrokersTable">
              <!-- Approved brokers will be added here -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Add Property Tab -->
      <div id="addPropertyTab" class="admin-tab" style="display: none;">
        <div class="admin-header">
          <h2 class="admin-title">إضافة عقار جديد</h2>
        </div>
        <form id="addPropertyForm" class="form-section">
          <div class="form-grid">
            <div class="form-control">
              <label for="addPropertyTitle">عنوان العقار</label>
              <input type="text" id="addPropertyTitle" required>
            </div>
            <div class="form-control">
              <label for="addPropertyType">نوع العقار</label>
              <select id="addPropertyType" required>
                <option value="">اختر النوع</option>
                <option value="villa">فيلا</option>
                <option value="apartment">شقة</option>
                <option value="land">أرض</option>
                <option value="rest">استراحة</option>
                <option value="building">عمارة</option>
                <option value="floor">دور</option>
              </select>
            </div>
            <div class="form-control">
              <label for="addPropertyPurpose">الغرض</label>
              <select id="addPropertyPurpose" required>
                <option value="">اختر الغرض</option>
                <option value="sale">بيع</option>
                <option value="rent">إيجار</option>
              </select>
            </div>
            <div class="form-control">
              <label for="addPropertyPrice">السعر</label>
              <input type="number" id="addPropertyPrice" required>
            </div>
            <div class="form-control">
              <label for="addPropertyLocation">الموقع</label>
              <input type="text" id="addPropertyLocation" required>
            </div>
            <div class="form-control">
              <label for="addPropertyArea">المساحة (متر مربع)</label>
              <input type="number" id="addPropertyArea" required>
            </div>
            <div class="form-control">
              <label for="addPropertyRooms">عدد الغرف</label>
              <input type="number" id="addPropertyRooms">
            </div>
            <div class="form-control">
              <label for="addPropertyBathrooms">عدد الحمامات</label>
              <input type="number" id="addPropertyBathrooms">
            </div>
            <div class="form-control">
              <label for="addPropertyAge">عمر العقار</label>
              <input type="text" id="addPropertyAge">
            </div>
            <div class="form-control">
              <label for="addPropertyImage">رابط الصورة</label>
              <input type="text" id="addPropertyImage" required>
            </div>
          </div>
          <div class="form-control" style="margin-top: 20px;">
            <label for="addPropertyDescription">وصف العقار</label>
            <textarea id="addPropertyDescription" rows="5" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd; font-family: 'Tajawal', sans-serif;" required></textarea>
          </div>
          <div class="form-control">
            <label for="addPropertyFeatures">المميزات (مفصولة بفواصل)</label>
            <input type="text" id="addPropertyFeatures" placeholder="مثال: مكيف، مسبح، حديقة، مطبخ مجهز">
          </div>
          <button type="submit" class="btn btn-primary submit-btn">إضافة العقار</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Sample Data - Properties
    const properties = [
      {
        id: 1,
        title: "فيلا فاخرة في حي النرجس",
        description: "فيلا فاخرة بتصميم عصري تتكون من دورين وملحق. دور أرضي به مجلس رجال ومجلس نساء وصالة عائلية كبيرة ومطبخ. الدور الأول يحتوي على 3 غرف نوم ماستر مع حمام خاص لكل غرفة. الملحق العلوي يتكون من غرفتين مع حمام مشترك. توجد حديقة أمامية وخلفية مع نظام ري أوتوماتيكي، ومواقف مغطاة للسيارات. تشطيبات راقية ومواد ذات جودة عالية. العقار قريب من الخدمات والمرافق والطرق الرئيسية.",
        price: 1750000,
        location: "الرياض، حي النرجس",
        type: "villa",
        purpose: "sale",
        area: 450,
        rooms: 5,
        bathrooms: 4,
        age: "3 سنوات",
        features: ["مكيفات اسبليت", "مطبخ مجهز", "مدخل سيارة", "غرفة خادمة", "تشطيب فاخر", "حديقة"],
        imageUrl: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=500&q=80",
        userId: 2
      },
      {
        id: 2,
        title: "شقة مفروشة في العليا",
        description: "شقة مفروشة حديثة في حي العليا، تتميز بموقع مركزي قريب من المراكز التجارية والمطاعم. تتكون من 3 غرف نوم منها غرفة ماستر مع حمام خاص، وصالة واسعة، ومطبخ مجهز بالكامل. الشقة مفروشة بالكامل بأثاث عصري وأجهزة كهربائية حديثة. يتوفر في المبنى مواقف للسيارات وخدمة أمن على مدار الساعة.",
        price: 35000,
        location: "الرياض، حي العليا",
        type: "apartment",
        purpose: "rent",
        area: 180,
        rooms: 3,
        bathrooms: 2,
        age: "5 سنوات",
        features: ["مفروشة بالكامل", "مطبخ مجهز", "تكييف مركزي", "موقف سيارة", "أمن"],
        imageUrl: "https://images.unsplash.com/photo-1560185007-5f0bb1866cab?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=500&q=80",
        userId: 2
      },
      {
        id: 3,
        title: "أرض سكنية في حي السلي",
        description: "أرض سكنية في حي السلي بمساحة 750 متر مربع، على شارع 20 متر شمالي. الأرض مستوية وجاهزة للبناء مباشرة. سعر المتر 1,200 ريال. مخطط معتمد وصكوك إلكترونية جاهزة. قريبة من الخدمات والمرافق العامة والمدارس.",
        price: 900000,
        location: "الرياض، حي السلي",
        type: "land",
        purpose: "sale",
        area: 750,
        features: ["شارع 20م", "مخطط معتمد", "صك إلكتروني"],
        imageUrl: "https://images.unsplash.com/photo-1602941525421-8f8b81d3edbb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=500&q=80",
        userId: 2
      },
      {
        id: 4,
        title: "استراحة فاخرة في حي الروضة",
        description: "استراحة فاخرة في حي الروضة، مناسبة للعائلات والمناسبات. تتميز بوجود مسبح كبير مع جلسات خارجية وحديقة واسعة. تحتوي على 6 غرف نوم، وصالات واسعة للجلوس، ومطبخ مجهز بالكامل. مجهزة بنظام صوتي وشاشات عرض وألعاب ترفيهية. تتوفر خدمة النظافة وتجهيز الطعام بتكلفة إضافية.",
        price: 1500,
        location: "جدة، حي الروضة",
        type: "rest",
        purpose: "rent",
        area: 1200,
        rooms: 6,
        bathrooms: 5,
        age: "2 سنوات",
        features: ["مسبح", "حديقة واسعة", "مطبخ مجهز", "نظام صوتي", "شاشات عرض", "جلسات خارجية"],
        imageUrl: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=500&q=80",
        userId: 2
      },
      {
        id: 5,
        title: "فيلا مطلة على الهدا - الطائف",
        description: "فيلا مميزة في الطائف بإطلالة خلابة على جبال الهدا. تتكون من 3 أدوار مع حديقة كبيرة ومسبح خاص. الدور الأرضي يضم مجلس رجال ومجلس نساء وصالة عائلية ومطبخ. الأدوار العلوية تحتوي على 8 غرف نوم مع 6 حمامات. جميع الغرف مكيفة ومؤثثة بالكامل.",
        price: 2300000,
        location: "الطائف، حي الهدا",
        type: "villa",
        purpose: "sale",
        area: 650,
        rooms: 8,
        bathrooms: 6,
        age: "جديد",
        features: ["إطلالة جبلية", "مسبح خاص", "حديقة واسعة", "مدخل سيارة", "تدفئة مركزية", "أمن"],
        imageUrl: "https://images.unsplash.com/photo-1599809275671-b5942cabc7a2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=500&q=80",
        userId: 2
      },
      {
        id: 6,
        title: "شقة على كورنيش جدة",
        description: "شقة فاخرة على كورنيش جدة مباشرة، إطلالة كاملة على البحر الأحمر. تشطيبات فاخرة وديكورات راقية. تتكون من 4 غرف نوم وصالة مفتوحة ومطبخ أمريكي. تقع في برج سكني فاخر يوفر خدمات فندقية.",
        price: 1200000,
        location: "جدة، الكورنيش",
        type: "apartment",
        purpose: "sale",
        area: 240,
        rooms: 4,
        bathrooms: 3,
        age: "جديد",
        features: ["إطلالة بحرية", "خدمات فندقية", "أمن", "مسبح", "صالة رياضية", "سبا"],
        imageUrl: "https://images.unsplash.com/photo-1527030280862-64139fba04ca?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&h=500&q=80",
        userId: 2
      }
    ];

    // Sample Data - Brokers
    const brokers = [
      {
        id: 1,
        fullName: "أحمد سعيد",
        phoneNumber: "966512345678",
        licenseNumber: "B12345",
        status: "approved",
        createdAt: "2023-01-15",
        propertiesCount: 12
      },
      {
        id: 2,
        fullName: "محمد العمري",
        phoneNumber: "966523456789",
        licenseNumber: "B23456",
        status: "approved",
        createdAt: "2023-02-20",
        propertiesCount: 8
      },
      {
        id: 3,
        fullName: "سلطان القحطاني",
        phoneNumber: "966534567890",
        licenseNumber: "B34567",
        status: "pending",
        createdAt: "2023-05-10"
      },
      {
        id: 4,
        fullName: "عبدالله الشهري",
        phoneNumber: "966545678901",
        licenseNumber: "B45678",
        status: "pending",
        createdAt: "2023-05-12"
      }
    ];

    // Statistics
    const stats = {
      propertiesCount: properties.length,
      brokersCount: brokers.filter(broker => broker.status === "approved").length,
      salesCount: properties.filter(property => property.purpose === "sale").length,
      rentCount: properties.filter(property => property.purpose === "rent").length
    };

    // Users for login
    const users = [
      {
        username: "admin",
        password: "admin123",
        role: "admin",
        fullName: "مشرف النظام"
      },
      {
        username: "broker",
        password: "broker123",
        role: "broker",
        fullName: "وسيط عقاري"
      }
    ];

    // Current user
    let currentUser = null;

    // DOM Elements
    const propertiesContainer = document.getElementById('propertiesContainer');
    const loginBtn = document.getElementById('loginBtn');
    const registerBtn = document.getElementById('registerBtn');
    const authModal = document.getElementById('authModal');
    const closeModal = document.getElementById('closeModal');
    const authForm = document.getElementById('authForm');
    const authTitle = document.getElementById('authTitle');
    const switchFormBtn = document.getElementById('switchFormBtn');
    const switchText = document.getElementById('switchText');
    const propertyDetailsModal = document.getElementById('propertyDetailsModal');
    const closePropertyModal = document.getElementById('closePropertyModal');
    const backToProperties = document.getElementById('backToProperties');
    const adminPanel = document.getElementById('adminPanel');
    const viewWebsiteBtn = document.getElementById('viewWebsiteBtn');
    const logoutBtn = document.getElementById('logoutBtn');

    // Stats Elements
    document.getElementById('propertiesCount').textContent = stats.propertiesCount + '+';
    document.getElementById('brokersCount').textContent = stats.brokersCount + '+';
    document.getElementById('salesCount').textContent = stats.salesCount + '+';

    // Admin Dashboard Stats
    document.getElementById('adminPropertiesCount').textContent = stats.propertiesCount;
    document.getElementById('adminBrokersCount').textContent = stats.brokersCount;
    document.getElementById('adminSalesCount').textContent = stats.salesCount;
    document.getElementById('adminRentCount').textContent = stats.rentCount;

    // Function to format price
    function formatPrice(price) {
      return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    // Function to get property type name in Arabic
    function getPropertyTypeName(type) {
      const types = {
        villa: "فيلا",
        apartment: "شقة",
        land: "أرض",
        rest: "استراحة",
        building: "عمارة",
        floor: "دور"
      };
      return types[type] || type;
    }

    // Function to get property purpose name in Arabic
    function getPropertyPurposeName(purpose) {
      const purposes = {
        sale: "للبيع",
        rent: "للإيجار"
      };
      return purposes[purpose] || purpose;
    }

    // Load Properties
    function loadProperties() {
      propertiesContainer.innerHTML = '';
      properties.forEach(property => {
        const card = document.createElement('div');
        card.className = 'property-card';
        card.innerHTML = `
          <img src="${property.imageUrl}" alt="${property.title}" class="property-image">
          <div class="property-info">
            <h3 class="property-title">${property.title}</h3>
            <div class="property-location"><i class="fas fa-map-marker-alt"></i> ${property.location}</div>
            <div class="property-price">${formatPrice(property.price)} ${property.purpose === 'rent' ? 'ريال / سنوياً' : 'ريال'}</div>
            <div class="property-features">
              ${property.area ? `<div class="feature"><i class="fas fa-ruler-combined"></i> <span>${property.area} م²</span></div>` : ''}
              ${property.rooms ? `<div class="feature"><i class="fas fa-bed"></i> <span>${property.rooms} غرف</span></div>` : ''}
              ${property.bathrooms ? `<div class="feature"><i class="fas fa-bath"></i> <span>${property.bathrooms} حمامات</span></div>` : ''}
            </div>
            <div class="property-buttons">
              <a href="https://wa.me/966535342404?text=استفسار حول عقار: ${property.title}" class="whatsapp-btn" target="_blank">
                <i class="fab fa-whatsapp"></i>
              </a>
              <button class="btn btn-primary details-btn" onclick="showPropertyDetails(${property.id})">عرض التفاصيل</button>
            </div>
          </div>
        `;
        propertiesContainer.appendChild(card);
      });
    }

    // Show Property Details
    window.showPropertyDetails = function(propertyId) {
      const property = properties.find(p => p.id === propertyId);
      if (!property) return;
      
      document.getElementById('propertyDetailsImage').src = property.imageUrl;
      document.getElementById('propertyDetailsTitle').textContent = property.title;
      document.getElementById('propertyDetailsLocation').innerHTML = `<i class="fas fa-map-marker-alt"></i> ${property.location}`;
      document.getElementById('propertyDetailsPrice').textContent = `${formatPrice(property.price)} ${property.purpose === 'rent' ? 'ريال / سنوياً' : 'ريال'}`;
      
      const infoEl = document.getElementById('propertyDetailsInfo');
      infoEl.innerHTML = `
        ${property.type ? `<div class="detail-item"><i class="fas fa-home"></i> <span>${getPropertyTypeName(property.type)}</span></div>` : ''}
        ${property.purpose ? `<div class="detail-item"><i class="fas fa-tag"></i> <span>${getPropertyPurposeName(property.purpose)}</span></div>` : ''}
        ${property.area ? `<div class="detail-item"><i class="fas fa-ruler-combined"></i> <span>${property.area} م²</span></div>` : ''}
        ${property.rooms ? `<div class="detail-item"><i class="fas fa-bed"></i> <span>${property.rooms} غرف</span></div>` : ''}
        ${property.bathrooms ? `<div class="detail-item"><i class="fas fa-bath"></i> <span>${property.bathrooms} حمامات</span></div>` : ''}
        ${property.age ? `<div class="detail-item"><i class="fas fa-calendar-alt"></i> <span>${property.age}</span></div>` : ''}
      `;
      
      document.getElementById('propertyDescription').textContent = property.description;
      
      const featuresEl = document.getElementById('propertyFeaturesList');
      featuresEl.innerHTML = '';
      
      if (property.features && property.features.length > 0) {
        property.features.forEach(feature => {
          const featureItem = document.createElement('div');
          featureItem.className = 'feature-item';
          featureItem.innerHTML = `<i class="fas fa-check-circle"></i> <span>${feature}</span>`;
          featuresEl.appendChild(featureItem);
        });
      } else {
        featuresEl.innerHTML = '<p>لا توجد ميزات محددة</p>';
      }
      
      document.getElementById('propertyWhatsapp').href = `https://wa.me/966535342404?text=استفسار حول عقار: ${property.title}`;
      
      propertyDetailsModal.classList.add('active');
    }

    // Load Admin Property Tables
    function loadAdminPropertyTables() {
      const latestPropertiesTable = document.getElementById('latestPropertiesTable');
      const allPropertiesTable = document.getElementById('allPropertiesTable');
      
      latestPropertiesTable.innerHTML = '';
      allPropertiesTable.innerHTML = '';
      
      // Latest properties (top 5)
      const latestProperties = [...properties].slice(0, 5);
      latestProperties.forEach(property => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${property.title}</td>
          <td>${getPropertyTypeName(property.type)}</td>
          <td>${getPropertyPurposeName(property.purpose)}</td>
          <td>${formatPrice(property.price)} ريال</td>
          <td>${property.location}</td>
          <td class="table-actions">
            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
            <button class="action-btn delete-btn"><i class="fas fa-trash"></i></button>
          </td>
        `;
        latestPropertiesTable.appendChild(row);
      });
      
      // All properties
      properties.forEach(property => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${property.title}</td>
          <td>${getPropertyTypeName(property.type)}</td>
          <td>${getPropertyPurposeName(property.purpose)}</td>
          <td>${formatPrice(property.price)} ريال</td>
          <td>${property.location}</td>
          <td class="table-actions">
            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
            <button class="action-btn delete-btn"><i class="fas fa-trash"></i></button>
          </td>
        `;
        allPropertiesTable.appendChild(row);
      });
    }

    // Load Admin Broker Tables
    function loadAdminBrokerTables() {
      const pendingBrokersTable = document.getElementById('pendingBrokersTable');
      const approvedBrokersTable = document.getElementById('approvedBrokersTable');
      
      pendingBrokersTable.innerHTML = '';
      approvedBrokersTable.innerHTML = '';
      
      // Pending brokers
      const pendingBrokers = brokers.filter(broker => broker.status === 'pending');
      pendingBrokers.forEach(broker => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${broker.fullName}</td>
          <td>${broker.phoneNumber}</td>
          <td>${broker.licenseNumber}</td>
          <td><span class="status status-pending">قيد المراجعة</span></td>
          <td class="table-actions">
            <button class="action-btn approve-btn"><i class="fas fa-check"></i></button>
            <button class="action-btn delete-btn"><i class="fas fa-times"></i></button>
          </td>
        `;
        pendingBrokersTable.appendChild(row);
      });
      
      // Approved brokers
      const approvedBrokers = brokers.filter(broker => broker.status === 'approved');
      approvedBrokers.forEach(broker => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${broker.fullName}</td>
          <td>${broker.phoneNumber}</td>
          <td>${broker.licenseNumber}</td>
          <td>${broker.createdAt}</td>
          <td>${broker.propertiesCount}</td>
          <td class="table-actions">
            <button class="action-btn delete-btn"><i class="fas fa-trash"></i></button>
          </td>
        `;
        approvedBrokersTable.appendChild(row);
      });
    }

    // Admin Panel Tab Switching
    function setupAdminTabs() {
      const dashboardTabBtn = document.getElementById('dashboardTabBtn');
      const propertiesTabBtn = document.getElementById('propertiesTabBtn');
      const brokersTabBtn = document.getElementById('brokersTabBtn');
      const addPropertyTabBtn = document.getElementById('addPropertyTabBtn');
      
      const dashboardTab = document.getElementById('dashboardTab');
      const propertiesTab = document.getElementById('propertiesTab');
      const brokersTab = document.getElementById('brokersTab');
      const addPropertyTab = document.getElementById('addPropertyTab');
      
      // Hide all tabs and remove active class from all buttons
      function resetTabs() {
        [dashboardTab, propertiesTab, brokersTab, addPropertyTab].forEach(tab => {
          tab.style.display = 'none';
        });
        [dashboardTabBtn, propertiesTabBtn, brokersTabBtn, addPropertyTabBtn].forEach(btn => {
          btn.classList.remove('active');
        });
      }
      
      // Dashboard Tab
      dashboardTabBtn.addEventListener('click', () => {
        resetTabs();
        dashboardTab.style.display = 'block';
        dashboardTabBtn.classList.add('active');
      });
      
      // Properties Tab
      propertiesTabBtn.addEventListener('click', () => {
        resetTabs();
        propertiesTab.style.display = 'block';
        propertiesTabBtn.classList.add('active');
      });
      
      // Brokers Tab
      brokersTabBtn.addEventListener('click', () => {
        resetTabs();
        brokersTab.style.display = 'block';
        brokersTabBtn.classList.add('active');
      });
      
      // Add Property Tab
      addPropertyTabBtn.addEventListener('click', () => {
        resetTabs();
        addPropertyTab.style.display = 'block';
        addPropertyTabBtn.classList.add('active');
      });
      
      // Add New Property Button
      document.getElementById('addNewPropertyBtn').addEventListener('click', () => {
        resetTabs();
        addPropertyTab.style.display = 'block';
        addPropertyTabBtn.classList.add('active');
      });
    }

    // Event Listeners
    loginBtn.addEventListener('click', () => {
      authModal.classList.add('active');
      authForm.classList.remove('register-active');
      authTitle.textContent = 'تسجيل الدخول';
      switchText.textContent = 'ليس لديك حساب؟';
      switchFormBtn.textContent = 'تسجيل جديد';
    });

    registerBtn.addEventListener('click', () => {
      authModal.classList.add('active');
      authForm.classList.add('register-active');
      authTitle.textContent = 'تسجيل جديد';
      switchText.textContent = 'لديك حساب بالفعل؟';
      switchFormBtn.textContent = 'تسجيل الدخول';
    });

    closeModal.addEventListener('click', () => {
      authModal.classList.remove('active');
    });

    closePropertyModal.addEventListener('click', () => {
      propertyDetailsModal.classList.remove('active');
    });

    backToProperties.addEventListener('click', () => {
      propertyDetailsModal.classList.remove('active');
    });

    viewWebsiteBtn.addEventListener('click', () => {
      adminPanel.style.display = 'none';
      document.body.style.overflow = 'auto';
    });

    logoutBtn.addEventListener('click', () => {
      currentUser = null;
      adminPanel.style.display = 'none';
      document.body.style.overflow = 'auto';
    });

    switchFormBtn.addEventListener('click', () => {
      authForm.classList.toggle('register-active');
      if (authForm.classList.contains('register-active')) {
        authTitle.textContent = 'تسجيل جديد';
        switchText.textContent = 'لديك حساب بالفعل؟';
        switchFormBtn.textContent = 'تسجيل الدخول';
      } else {
        authTitle.textContent = 'تسجيل الدخول';
        switchText.textContent = 'ليس لديك حساب؟';
        switchFormBtn.textContent = 'تسجيل جديد';
      }
    });

    authForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (authForm.classList.contains('register-active')) {
        // Registration logic - in this demo, we just close the modal
        alert('تم إرسال طلب التسجيل بنجاح، سيتم مراجعته من قبل المشرف');
        authModal.classList.remove('active');
      } else {
        // Login logic
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        
        const user = users.find(u => u.username === username && u.password === password);
        
        if (user) {
          currentUser = user;
          authModal.classList.remove('active');
          
          if (user.role === 'admin') {
            adminPanel.style.display = 'flex';
            document.body.style.overflow = 'hidden';
          } else {
            // For simplicity, we just alert for non-admin users
            alert('مرحبًا بك ' + user.fullName);
          }
        } else {
          alert('اسم المستخدم أو كلمة المرور غير صحيحة');
        }
      }
    });

    // Add Property Form
    document.getElementById('addPropertyForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const title = document.getElementById('addPropertyTitle').value;
      const type = document.getElementById('addPropertyType').value;
      const purpose = document.getElementById('addPropertyPurpose').value;
      const price = Number(document.getElementById('addPropertyPrice').value);
      const location = document.getElementById('addPropertyLocation').value;
      const area = Number(document.getElementById('addPropertyArea').value);
      const rooms = document.getElementById('addPropertyRooms').value ? Number(document.getElementById('addPropertyRooms').value) : undefined;
      const bathrooms = document.getElementById('addPropertyBathrooms').value ? Number(document.getElementById('addPropertyBathrooms').value) : undefined;
      const age = document.getElementById('addPropertyAge').value || undefined;
      const imageUrl = document.getElementById('addPropertyImage').value;
      const description = document.getElementById('addPropertyDescription').value;
      const featuresStr = document.getElementById('addPropertyFeatures').value;
      const features = featuresStr.split(',').map(f => f.trim()).filter(f => f.length > 0);
      
      const newProperty = {
        id: properties.length + 1,
        title,
        description,
        price,
        location,
        type,
        purpose,
        area,
        rooms,
        bathrooms,
        age,
        features,
        imageUrl,
        userId: currentUser.id || 1
      };
      
      properties.push(newProperty);
      loadProperties();
      loadAdminPropertyTables();
      
      // Update stats
      stats.propertiesCount = properties.length;
      stats.salesCount = properties.filter(property => property.purpose === "sale").length;
      stats.rentCount = properties.filter(property => property.purpose === "rent").length;
      
      document.getElementById('propertiesCount').textContent = stats.propertiesCount + '+';
      document.getElementById('salesCount').textContent = stats.salesCount + '+';
      
      document.getElementById('adminPropertiesCount').textContent = stats.propertiesCount;
      document.getElementById('adminSalesCount').textContent = stats.salesCount;
      document.getElementById('adminRentCount').textContent = stats.rentCount;
      
      alert('تمت إضافة العقار بنجاح');
      
      // Reset form
      document.getElementById('addPropertyForm').reset();
    });

    // Initialize
    loadProperties();
    loadAdminPropertyTables();
    loadAdminBrokerTables();
    setupAdminTabs();

    // Close modals when clicking outside
    window.addEventListener('click', (e) => {
      if (e.target === authModal) {
        authModal.classList.remove('active');
      }
      if (e.target === propertyDetailsModal) {
        propertyDetailsModal.classList.remove('active');
      }
    });
  </script>
</body>
</html>
